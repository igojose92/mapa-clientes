
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mapa de Vendas</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAt_SgOgFsPosjtTeY1nMJVNBLbmYIBtho"></script>
    <style>
        body, html { height: 100%; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        #map { height: 100%; width: 100%; }
        
        /* Customizando InfoWindow Dark */
        .gm-style .gm-style-iw-c { background-color: #2c3e50 !important; padding: 0 !important; }
        .gm-style .gm-style-iw-d { overflow: hidden !important; }
        .gm-style .gm-style-iw-tc::after { background: #2c3e50 !important; }

        #search-wrapper { position: absolute; top: 15px; left: 50%; transform: translateX(-50%); z-index: 5; width: 90%; max-width: 480px; }
        #search-container { background: #2c3e50; padding: 12px; border-radius: 35px; box-shadow: 0 10px 25px rgba(0,0,0,0.5); border: 1px solid #34495e; display: flex; align-items: center; }
        #search-input { width: 100%; border: none; outline: none; font-size: 16px; text-align: center; font-weight: 500; background: transparent; color: #ffffff; }
        
        #suggestions { background: #2c3e50; border-radius: 20px; margin-top: 8px; box-shadow: 0 10px 25px rgba(0,0,0,0.4); max-height: 200px; overflow-y: auto; display: none; border: 1px solid #34495e; }
        .suggestion-item { padding: 12px 20px; cursor: pointer; border-bottom: 1px solid #34495e; font-size: 14px; color: #4285F4; }

        #legend { position: absolute; bottom: 25px; right: 10px; background: white; padding: 10px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 5; font-size: 12px; border-left: 5px solid #4285F4; }
        .legend-row { display: flex; align-items: center; margin-bottom: 5px; font-weight: 600; }
        .basket-svg { width: 18px; height: 18px; margin-right: 8px; }

        .custom-controls { position: absolute; left: 10px; top: 80px; z-index: 5; display: flex; flex-direction: column; gap: 8px; }
        .map-btn { background: white; border: none; width: 40px; height: 40px; border-radius: 8px; cursor: pointer; box-shadow: 0 4px 8px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; }

        @media (max-width: 600px) {
            #search-input { font-size: 14px; }
            #legend { font-size: 10px; bottom: 20px; right: 5px; padding: 8px; }
            .custom-controls { top: 75px; left: 8px; }
        }
    </style>
</head>
<body>
    <div id="search-wrapper">
        <div id="search-container"><input id="search-input" type="text" placeholder="üîé Buscar cliente..." autocomplete="off"></div>
        <div id="suggestions"></div>
    </div>
    
    <div class="custom-controls">
        <button class="map-btn" onclick="map.setZoom(map.getZoom() + 1)" style="font-size: 20px;">+</button>
        <button class="map-btn" onclick="map.setZoom(map.getZoom() - 1)" style="font-size: 20px;">‚àí</button>
        <button class="map-btn" onclick="findMe()">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="#4285F4">
                <path d="M12 8C9.79 8 8 9.79 8 12C8 14.21 9.79 16 12 16C14.21 16 16 14.21 16 12C16 9.79 14.21 8 12 8ZM20.94 11C20.48 6.83 17.17 3.52 13 3.06V1H11V3.06C6.83 3.52 3.52 6.83 3.06 11H1V13H3.06C3.52 17.17 6.83 20.48 11 20.94V23H13V20.94C17.17 20.48 20.48 17.17 20.94 13H23V11H20.94ZM12 19C8.13 19 5 15.87 5 12C5 8.13 8.13 5 12 5C15.87 5 19 8.13 19 12C19 15.87 15.87 19 12 19Z"/>
            </svg>
        </button>
    </div>

    <div id="legend">
        <b style="display:block; margin-bottom:5px;">STATUS</b>
        <div class="legend-row">
            <svg class="basket-svg" viewBox="0 0 24 24" fill="#28a745"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.87 1.46h13.1c.87 0 1.64-.62 1.87-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9z"/></svg>
            <span style="color:#28a745;">Comprou</span>
        </div>
        <div class="legend-row">
            <svg class="basket-svg" viewBox="0 0 24 24" fill="#FF3131"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.87 1.46h13.1c.87 0 1.64-.62 1.87-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9z"/></svg>
            <span style="color:#FF3131;">N√£o Comprou</span>
        </div>
        <div class="legend-row">
            <svg class="basket-svg" viewBox="0 0 24 24" fill="#7f8c8d"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.87 1.46h13.1c.87 0 1.64-.62 1.87-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9z"/></svg>
            <span style="color:#7f8c8d;">Inativo</span>
        </div>
    </div>

    <div id="map"></div>

    <script>
        var map, markers = [], infoWindow, userMarker, data = [{'nome': 'Super. Alvorada (Asa Sul)', 'lat': -15.815, 'lng': -47.893, 'cor_hex': '#28a745', 'search': 'super. alvorada (asa sul) 12.345.678/0001-99 1020', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#28a745; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>Super. Alvorada (Asa Sul)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 12.345.678/0001-99 | C√≥d: 1020</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 01/01/2022<br>\n                <b>Segmenta√ß√£o:</b> Supermercado<br>\n                <b>Setor:</b> S01<br>\n                <b>Representante:</b> Jo√£o Silva<br>\n                <b>Dia de Visita:</b> Segunda<br>\n                <b>Frequ√™ncia:</b> Semanal<br>\n                <b>Equipamentos:</b> 3<br>\n                <b>Pagamento:</b> Boleto  - Prazo: 28 dias<br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 15.000,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #28a745; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> Sim<br>\n                <b>Status:</b> Ativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-15.815,-47.893' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}, {'nome': 'Padaria Central (Taguati.)', 'lat': -15.833, 'lng': -48.057, 'cor_hex': '#FF3131', 'search': 'padaria central (taguati.) 98.765.432/0001-00 1021', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#FF3131; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>Padaria Central (Taguati.)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 98.765.432/0001-00 | C√≥d: 1021</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 15/03/2021<br>\n                <b>Segmenta√ß√£o:</b> Padaria<br>\n                <b>Setor:</b> S03<br>\n                <b>Representante:</b> Maria Oliveira<br>\n                <b>Dia de Visita:</b> Quarta<br>\n                <b>Frequ√™ncia:</b> Quinzenal<br>\n                <b>Equipamentos:</b> 1<br>\n                <b>Pagamento:</b> Pix <br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 5.000,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #FF3131; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> N√£o<br>\n                <b>Status:</b> Ativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-15.833,-48.057' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}, {'nome': 'Mini Mercado Silva (Ceil√¢n.)', 'lat': -15.82, 'lng': -48.11, 'cor_hex': '#28a745', 'search': 'mini mercado silva (ceil√¢n.) 11.222.333/0001-11 1022', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#28a745; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>Mini Mercado Silva (Ceil√¢n.)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 11.222.333/0001-11 | C√≥d: 1022</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 10/10/2023<br>\n                <b>Segmenta√ß√£o:</b> Mercado<br>\n                <b>Setor:</b> S01<br>\n                <b>Representante:</b> Jo√£o Silva<br>\n                <b>Dia de Visita:</b> Ter√ßa<br>\n                <b>Frequ√™ncia:</b> Semanal<br>\n                <b>Equipamentos:</b> 2<br>\n                <b>Pagamento:</b> Boleto  - Prazo: 15 dias<br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 2.500,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #28a745; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> Sim<br>\n                <b>Status:</b> Ativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-15.82,-48.11' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}, {'nome': 'A√ßougue Ouro (Guar√°)', 'lat': -15.825, 'lng': -47.98, 'cor_hex': '#28a745', 'search': 'a√ßougue ouro (guar√°) 44.555.666/0001-22 1023', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#28a745; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>A√ßougue Ouro (Guar√°)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 44.555.666/0001-22 | C√≥d: 1023</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 05/02/2022<br>\n                <b>Segmenta√ß√£o:</b> A√ßougue<br>\n                <b>Setor:</b> S02<br>\n                <b>Representante:</b> Carlos Souza<br>\n                <b>Dia de Visita:</b> Ter√ßa<br>\n                <b>Frequ√™ncia:</b> Mensal<br>\n                <b>Equipamentos:</b> 1<br>\n                <b>Pagamento:</b> Boleto  - Prazo: 21 dias<br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 8.000,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #28a745; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> Sim<br>\n                <b>Status:</b> Ativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-15.825,-47.98' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}, {'nome': 'Mercearia Vila (Sobradinho)', 'lat': -15.65, 'lng': -47.79, 'cor_hex': '#7f8c8d', 'search': 'mercearia vila (sobradinho) 77.888.999/0001-33 1024', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#7f8c8d; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>Mercearia Vila (Sobradinho)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 77.888.999/0001-33 | C√≥d: 1024</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 20/05/2020<br>\n                <b>Segmenta√ß√£o:</b> Mercearia<br>\n                <b>Setor:</b> S03<br>\n                <b>Representante:</b> Maria Oliveira<br>\n                <b>Dia de Visita:</b> Sexta<br>\n                <b>Frequ√™ncia:</b> Semanal<br>\n                <b>Equipamentos:</b> 0<br>\n                <b>Pagamento:</b> Pix <br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 4.500,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #7f8c8d; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> N√£o<br>\n                <b>Status:</b> Inativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-15.65,-47.79' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}, {'nome': 'Hortifruti Nat. (√Åguas Cl.)', 'lat': -15.84, 'lng': -48.02, 'cor_hex': '#28a745', 'search': 'hortifruti nat. (√°guas cl.) 10.203.040/0001-50 1025', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#28a745; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>Hortifruti Nat. (√Åguas Cl.)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 10.203.040/0001-50 | C√≥d: 1025</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 12/12/2021<br>\n                <b>Segmenta√ß√£o:</b> Hortifruti<br>\n                <b>Setor:</b> S04<br>\n                <b>Representante:</b> Ana Costa<br>\n                <b>Dia de Visita:</b> Quinta<br>\n                <b>Frequ√™ncia:</b> Quinzenal<br>\n                <b>Equipamentos:</b> 4<br>\n                <b>Pagamento:</b> Boleto  - Prazo: 30 dias<br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 10.000,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #28a745; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> Sim<br>\n                <b>Status:</b> Ativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-15.84,-48.02' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}, {'nome': 'Posto Sul (Asa Norte)', 'lat': -15.76, 'lng': -47.87, 'cor_hex': '#7f8c8d', 'search': 'posto sul (asa norte) 60.708.090/0001-60 1026', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#7f8c8d; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>Posto Sul (Asa Norte)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 60.708.090/0001-60 | C√≥d: 1026</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 30/08/2022<br>\n                <b>Segmenta√ß√£o:</b> Posto<br>\n                <b>Setor:</b> S02<br>\n                <b>Representante:</b> Carlos Souza<br>\n                <b>Dia de Visita:</b> Segunda<br>\n                <b>Frequ√™ncia:</b> Semanal<br>\n                <b>Equipamentos:</b> 2<br>\n                <b>Pagamento:</b> Pix <br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 3.000,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #7f8c8d; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> N√£o<br>\n                <b>Status:</b> Inativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-15.76,-47.87' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}, {'nome': 'Lanchonete Z√© (Gama)', 'lat': -16.02, 'lng': -48.06, 'cor_hex': '#7f8c8d', 'search': 'lanchonete z√© (gama) 13.141.516/0001-70 1027', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#7f8c8d; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>Lanchonete Z√© (Gama)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 13.141.516/0001-70 | C√≥d: 1027</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 05/04/2023<br>\n                <b>Segmenta√ß√£o:</b> Lanchonete<br>\n                <b>Setor:</b> S04<br>\n                <b>Representante:</b> Ana Costa<br>\n                <b>Dia de Visita:</b> Quarta<br>\n                <b>Frequ√™ncia:</b> Mensal<br>\n                <b>Equipamentos:</b> 1<br>\n                <b>Pagamento:</b> Dinheiro <br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 1.200,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #7f8c8d; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> N√£o<br>\n                <b>Status:</b> Inativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-16.02,-48.06' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}, {'nome': 'Rest. Sabor (Samambaia)', 'lat': -15.88, 'lng': -48.08, 'cor_hex': '#28a745', 'search': 'rest. sabor (samambaia) 17.181.920/0001-80 1028', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#28a745; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>Rest. Sabor (Samambaia)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 17.181.920/0001-80 | C√≥d: 1028</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 18/07/2021<br>\n                <b>Segmenta√ß√£o:</b> Restaurante<br>\n                <b>Setor:</b> S01<br>\n                <b>Representante:</b> Jo√£o Silva<br>\n                <b>Dia de Visita:</b> Sexta<br>\n                <b>Frequ√™ncia:</b> Semanal<br>\n                <b>Equipamentos:</b> 2<br>\n                <b>Pagamento:</b> Boleto  - Prazo: 7 dias<br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 6.000,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #28a745; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> Sim<br>\n                <b>Status:</b> Ativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-15.88,-48.08' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}, {'nome': 'Mercado Premium (Sudoeste)', 'lat': -15.79, 'lng': -47.92, 'cor_hex': '#28a745', 'search': 'mercado premium (sudoeste) 21.222.324/0001-90 1029', 'content': "\n        <div style='width:280px; max-width:85vw; font-family: sans-serif; line-height: 1.4; color: #ffffff; background: #2c3e50; padding: 10px; border-radius: 10px;'>\n            <div style='background:#28a745; color:white; padding:12px; border-radius:10px 10px 0 0; margin:-10px -10px 10px -10px;'>\n                <div style='font-size:16px; font-weight:bold;'>Mercado Premium (Sudoeste)</div>\n                <div style='font-size:11px; opacity:0.9;'>CNPJ: 21.222.324/0001-90 | C√≥d: 1029</div>\n            </div>\n            <div style='font-size:12px; padding: 10px 0; color: #ecf0f1;'>\n                <b>Data do Cadastro:</b> 22/01/2022<br>\n                <b>Segmenta√ß√£o:</b> Mercado Premium<br>\n                <b>Setor:</b> S02<br>\n                <b>Representante:</b> Carlos Souza<br>\n                <b>Dia de Visita:</b> Quinta<br>\n                <b>Frequ√™ncia:</b> Mensal<br>\n                <b>Equipamentos:</b> 5<br>\n                <b>Pagamento:</b> Boleto  - Prazo: 45 dias<br>\n                <b>Limite Cr√©dito:</b> <span style='color:#2ecc71; font-weight:bold;'>R$ 25.000,00</span>\n            </div>\n            <div style='background:#34495e; padding:8px; border-radius:6px; margin:5px 0 10px 0; border-left:4px solid #28a745; font-size:11px; color: #ffffff;'>\n                <b>Comprador no m√™s:</b> Sim<br>\n                <b>Status:</b> Ativo\n            </div>\n            <a href='https://www.google.com/maps/dir/?api=1&destination=-15.79,-47.92' target='_blank' \n               style='display:block; background:#4285F4; color:white; text-align:center; padding:10px; border-radius:25px; text-decoration:none; font-weight:bold; font-size:13px;'>\n               VER TRAJETO GOOGLE MAPS\n            </a>\n        </div>\n    "}];
        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), { 
                zoom: 11, center: {lat: -15.7938, lng: -47.8827}, 
                zoomControl: false, streetViewControl: false, mapTypeControl: false, fullscreenControl: false
            });
            infoWindow = new google.maps.InfoWindow();
            data.forEach(function(item) {
                var marker = new google.maps.Marker({
                    position: {lat: item.lat, lng: item.lng}, map: map,
                    icon: { path: 'M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-12-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z', fillColor: item.cor_hex, fillOpacity: 1, strokeWeight: 2, strokeColor: '#FFFFFF', scale: 2, anchor: new google.maps.Point(12, 22) },
                    searchTag: item.search, nome: item.nome
                });
                marker.addListener('click', function() { infoWindow.setContent(item.content); infoWindow.open(map, marker); });
                markers.push(marker);
            });
            const input = document.getElementById('search-input'), suggBox = document.getElementById('suggestions');
            input.oninput = function() {
                var val = input.value.toLowerCase(); suggBox.innerHTML = '';
                if(val) {
                    markers.forEach(m => {
                        if(m.searchTag.includes(val)) {
                            var div = document.createElement('div'); div.className = 'suggestion-item'; div.innerHTML = 'üìç ' + m.nome;
                            div.onclick = function() { map.setCenter(m.getPosition()); map.setZoom(17); google.maps.event.trigger(m, 'click'); suggBox.style.display = 'none'; };
                            suggBox.appendChild(div);
                        }
                    });
                    suggBox.style.display = 'block';
                } else { suggBox.style.display = 'none'; }
            };
        }
        function findMe() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(p) {
                    var pos = {lat: p.coords.latitude, lng: p.coords.longitude};
                    map.setCenter(pos); map.setZoom(16);
                    if (userMarker) userMarker.setMap(null);
                    userMarker = new google.maps.Marker({
                        position: pos, map: map, icon: { path: google.maps.SymbolPath.CIRCLE, scale: 8, fillColor: "#4285F4", fillOpacity: 1, strokeColor: "white", strokeWeight: 2 }
                    });
                });
            }
        }
        google.maps.event.addDomListener(window, 'load', initMap);
    </script>
</body>
</html>

